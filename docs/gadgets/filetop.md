---
# Code generated by 'make generate-documentation'. DO NOT EDIT.
title: Gadget filetop
---

filetop shows reads and writes by file, with container details.

The following parameters are supported:
 - interval: Output interval, in seconds. (default 1)
 - max_rows: Maximum rows to print. (default 20)
 - sort_by: The field to sort the results by (all,reads,writes,rbytes,wbytes). (default all)
 - pid: Show all files. (default false, i.e. show regular files only)

### Example CR

```yaml
apiVersion: gadget.kinvolk.io/v1alpha1
kind: Trace
metadata:
  name: filetop
  namespace: gadget
spec:
  node: ubuntu-hirsute
  gadget: filetop
  runMode: Manual
  outputMode: Stream
  filter:
    namespace: default
```

### Operations


#### start

Start filetop gadget

```bash
$ kubectl annotate -n gadget trace/filetop \
    gadget.kinvolk.io/operation=start
```
#### stop

Stop filetop gadget

```bash
$ kubectl annotate -n gadget trace/filetop \
    gadget.kinvolk.io/operation=stop
```

### Output Modes

* Stream

### Types

```go
package types // import "github.com/kinvolk/inspektor-gadget/pkg/gadgets/top/file/types"


CONSTANTS

const (
	MaxRowsDefault  = 20
	IntervalDefault = 1
	SortByDefault   = ALL
	AllFilesDefault = false
)
const (
	IntervalParam = "interval"
	MaxRowsParam  = "max_rows"
	SortByParam   = "sort_by"
	AllFilesParam = "pid"
)

VARIABLES

var SortBySlice = []string{
	"all",
	"reads",
	"writes",
	"rbytes",
	"wbytes",
}

FUNCTIONS

func SortStats(stats []Stats, sortBy SortBy)

TYPES

type Event struct {
	Error string `json:"error,omitempty"`

	// Node where the event comes from.
	Node string `json:"node,omitempty"`

	Stats []Stats `json:"stats,omitempty"`
}
    Event is the information the gadget sends to the client each capture
    interval

type SortBy int

const (
	ALL SortBy = iota
	READS
	WRITES
	RBYTES
	WBYTES
)
func ParseSortBy(sortby string) (SortBy, error)

func (s SortBy) String() string

type Stats struct {
	eventtypes.CommonData

	Reads      uint64 `json:"reads,omitempty"`
	Writes     uint64 `json:"writes,omitempty"`
	ReadBytes  uint64 `json:"rbytes,omitempty"`
	WriteBytes uint64 `json:"wbytes,omitempty"`
	Pid        uint32 `json:"pid,omitempty"`
	Tid        uint32 `json:"tid,omitempty"`
	MountNsID  uint64 `json:"mountnsid,omitempty"`
	Filename   string `json:"filename,omitempty"`
	Comm       string `json:"comm,omitempty"`
	FileType   byte   `json:"fileType,omitempty"`
}
    Stats represents the operations performed on a single file

```
